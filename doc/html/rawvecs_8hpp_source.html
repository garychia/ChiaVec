<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ChiaVec: src/include/rawvecs.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ChiaVec
   </div>
   <div id="projectbrief">ChiaVec is a powerful tool that offers sequence containers, namely Vec and CudaVec. Vec allocates memory on CPUs while CudaVec allocates memory on GPUs using CUDA. ChiaVec performs memory management across different processing units under the hood. This makes it easy for high-performance computing tasks using C++. C and Rust bindings are also provided.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_b0856f6b0d80ccb263b2f415c91f9e17.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">rawvecs.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef __CHIAVEC_RAWVECS_HPP__</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define __CHIAVEC_RAWVECS_HPP__</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;allocators.hpp&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">namespace </span>ChiaVec {</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">namespace </span>Raw {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> Allocator = Memory::DefaultAllocator&gt;</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html">   21</a></span>&#160;<span class="keyword">class </span><a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec</a> {</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  T *elements;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="keywordtype">size_t</span> length;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordtype">void</span> releaseMemory() {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    Allocator allocator;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    allocator.release(elements);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordtype">void</span> deleteElements() {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    releaseMemory();</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    elements = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordtype">void</span> clearAll() {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    deleteElements();</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    length = 0;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> copyElement(<span class="keyword">const</span> T &amp;element, std::size_t index,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                           <span class="keywordtype">bool</span> elementOnHost) {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    Allocator allocator;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    allocator.copy(&amp;elements[index], &amp;element, <span class="keyword">sizeof</span>(T),</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                   Allocator::AllocatesOnHost, elementOnHost);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#a955ede0b082ad1f5255d82e37194dd7a">   79</a></span>&#160;  <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a955ede0b082ad1f5255d82e37194dd7a">RawVec</a>() : elements(nullptr), length(0) {}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#af90738ab005ad3d4b421171dbe81a2fe">   86</a></span>&#160;  <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#af90738ab005ad3d4b421171dbe81a2fe">RawVec</a>(std::size_t length) : length(length) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    Allocator allocator;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    elements = <span class="keyword">static_cast&lt;</span>T *<span class="keyword">&gt;</span>(allocator(<span class="keyword">sizeof</span>(T) * length));</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#a1a32656d3286db6969b9bd5543cb3939">   99</a></span>&#160;  <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a1a32656d3286db6969b9bd5543cb3939">RawVec</a>(<span class="keyword">const</span> T *data, std::size_t length, <span class="keywordtype">bool</span> onHost) : <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec</a>(length) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a0c58b6bcdd30f3ffc3cc66b97b407e2f">copyMemory</a>(data, length, onHost);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> OtherAllocator&gt;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#a1101c514bfab8219c94101a1aa620cba">  109</a></span>&#160;  <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a1101c514bfab8219c94101a1aa620cba">RawVec</a>(<span class="keyword">const</span> <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec&lt;T, OtherAllocator&gt;</a> &amp;other)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      : <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec</a>(other.elements, other.length, OtherAllocator::AllocatesOnHost) {}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#afa6023cb1f2484af73c552562fc6ca59">  117</a></span>&#160;  <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#afa6023cb1f2484af73c552562fc6ca59">RawVec</a>(<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec&lt;T, Allocator&gt;</a> &amp;&amp;other)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      : elements(other.elements), length(other.length) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    other.elements = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    other.length = 0;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#af9c5b61b6429d023712b662b5174b0e9">  126</a></span>&#160;  <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#af9c5b61b6429d023712b662b5174b0e9">~RawVec</a>() { releaseMemory(); }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec&lt;T, Allocator&gt;</a> &amp;operator=(<span class="keyword">const</span> <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec&lt;T, Allocator&gt;</a> &amp;other) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a13f7201e4704c8a4387c078daaa3ba8b">copyFrom</a>(other);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> OtherAllocator&gt;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#aeb861f2c31a2b94f0670e65ffa457b54">  141</a></span>&#160;  <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec&lt;T, Allocator&gt;</a> &amp;<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#aeb861f2c31a2b94f0670e65ffa457b54">operator=</a>(<span class="keyword">const</span> <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec&lt;T, OtherAllocator&gt;</a> &amp;other) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a13f7201e4704c8a4387c078daaa3ba8b">copyFrom</a>(other);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#a9da2772fb0a57f8c6e0578a761b5f06c">  153</a></span>&#160;  <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec&lt;T, Allocator&gt;</a> &amp;<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a9da2772fb0a57f8c6e0578a761b5f06c">operator=</a>(<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec&lt;T, Allocator&gt;</a> &amp;&amp;other) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    clearAll();</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    elements = other.elements;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    other.elements = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    length = other.length;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    other.length = 0;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#ad91ab69072029c09a9037a2183902f56">  167</a></span>&#160;  T *<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#ad91ab69072029c09a9037a2183902f56">ptr</a>() { <span class="keywordflow">return</span> elements; }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#aba84b5536a908ca53f0535e43db2f410">  174</a></span>&#160;  <span class="keyword">const</span> T *<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#aba84b5536a908ca53f0535e43db2f410">ptr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> elements; }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#a12b106722b858b304e901a73a28e914e">  181</a></span>&#160;  std::size_t <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a12b106722b858b304e901a73a28e914e">len</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> length; }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#a6bcfbc036f9d70f96369104b2d0a57db">  188</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a6bcfbc036f9d70f96369104b2d0a57db">resize</a>(std::size_t newLength) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span> (0 == newLength) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      deleteElements();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (newLength &gt; length) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      Allocator allocator;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      elements = <span class="keyword">static_cast&lt;</span>T *<span class="keyword">&gt;</span>(allocator.resize(elements, <span class="keyword">sizeof</span>(T) * length,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                                   <span class="keyword">sizeof</span>(T) * newLength));</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    length = newLength;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> Itr&gt;</div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#a26bf19a26a96d00ef1766a21931cf4fe">  209</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a26bf19a26a96d00ef1766a21931cf4fe">copy</a>(Itr iter, std::size_t length, <span class="keywordtype">bool</span> onHost) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a6bcfbc036f9d70f96369104b2d0a57db">resize</a>(length);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; length; i++) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      copyElement(*iter, i, onHost);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      iter++;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#a0c58b6bcdd30f3ffc3cc66b97b407e2f">  226</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a0c58b6bcdd30f3ffc3cc66b97b407e2f">copyMemory</a>(<span class="keyword">const</span> T *<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#ad91ab69072029c09a9037a2183902f56">ptr</a>, std::size_t length, <span class="keywordtype">bool</span> onHost) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    Allocator allocator;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a6bcfbc036f9d70f96369104b2d0a57db">resize</a>(length);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    allocator.copy(elements, <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#ad91ab69072029c09a9037a2183902f56">ptr</a>, <span class="keyword">sizeof</span>(T) * length,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                   Allocator::AllocatesOnHost, onHost);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> OtherAllocator&gt;</div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#a34a68a331a0df1745c10e5ff6a740e5f">  241</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a34a68a331a0df1745c10e5ff6a740e5f">copyTo</a>(<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec&lt;T, OtherAllocator&gt;</a> &amp;other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    other.<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a6bcfbc036f9d70f96369104b2d0a57db">resize</a>(length);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    other.<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a0c58b6bcdd30f3ffc3cc66b97b407e2f">copyMemory</a>(elements, length, Allocator::AllocatesOnHost);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> OtherAllocator&gt;</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#a13f7201e4704c8a4387c078daaa3ba8b">  254</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a13f7201e4704c8a4387c078daaa3ba8b">copyFrom</a>(<span class="keyword">const</span> <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec&lt;T, OtherAllocator&gt;</a> &amp;other) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a6bcfbc036f9d70f96369104b2d0a57db">resize</a>(other.<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a12b106722b858b304e901a73a28e914e">len</a>());</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a0c58b6bcdd30f3ffc3cc66b97b407e2f">copyMemory</a>(other.elements, other.<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a12b106722b858b304e901a73a28e914e">len</a>(), OtherAllocator::AllocatesOnHost);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> OtherAllocator = Allocator&gt;</div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="classChiaVec_1_1Raw_1_1RawVec.html#a6bc6f71404d83e1245fbe923306177c0">  267</a></span>&#160;  <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec&lt;T, OtherAllocator&gt;</a> <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a6bc6f71404d83e1245fbe923306177c0">clone</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec&lt;T, OtherAllocator&gt;</a> v(length);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    v.<a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html#a0c58b6bcdd30f3ffc3cc66b97b407e2f">copyMemory</a>(elements, length, Allocator::AllocatesOnHost);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> U, <span class="keyword">class</span> OtherAllocator&gt;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classChiaVec_1_1Raw_1_1RawVec.html">RawVec</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;};</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> CudaAllocator = Memory::DefaultCudaAllocator&gt;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="keyword">using</span> CudaRawVec = RawVec&lt;T, CudaAllocator&gt;;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;} <span class="comment">// namespace Raw</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;} <span class="comment">// namespace ChiaVec</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html">ChiaVec::Raw::RawVec</a></div><div class="ttdoc">A simple vector-like class that manages raw memory.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:21</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_a0c58b6bcdd30f3ffc3cc66b97b407e2f"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#a0c58b6bcdd30f3ffc3cc66b97b407e2f">ChiaVec::Raw::RawVec::copyMemory</a></div><div class="ttdeci">void copyMemory(const T *ptr, std::size_t length, bool onHost)</div><div class="ttdoc">Copies the elements from a raw memory block to the raw memory block of this RawVec object.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:226</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_a1101c514bfab8219c94101a1aa620cba"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#a1101c514bfab8219c94101a1aa620cba">ChiaVec::Raw::RawVec::RawVec</a></div><div class="ttdeci">RawVec(const RawVec&lt; T, OtherAllocator &gt; &amp;other)</div><div class="ttdoc">Constructs a RawVec object by copying another RawVec object.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:109</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_a12b106722b858b304e901a73a28e914e"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#a12b106722b858b304e901a73a28e914e">ChiaVec::Raw::RawVec::len</a></div><div class="ttdeci">std::size_t len() const</div><div class="ttdoc">Returns the length of the raw memory block, in number of elements.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:181</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_a13f7201e4704c8a4387c078daaa3ba8b"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#a13f7201e4704c8a4387c078daaa3ba8b">ChiaVec::Raw::RawVec::copyFrom</a></div><div class="ttdeci">void copyFrom(const RawVec&lt; T, OtherAllocator &gt; &amp;other)</div><div class="ttdoc">Copies the contents of another RawVec object to this RawVec object.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:254</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_a1a32656d3286db6969b9bd5543cb3939"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#a1a32656d3286db6969b9bd5543cb3939">ChiaVec::Raw::RawVec::RawVec</a></div><div class="ttdeci">RawVec(const T *data, std::size_t length, bool onHost)</div><div class="ttdoc">Constructs a RawVec object from a raw memory block.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:99</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_a26bf19a26a96d00ef1766a21931cf4fe"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#a26bf19a26a96d00ef1766a21931cf4fe">ChiaVec::Raw::RawVec::copy</a></div><div class="ttdeci">void copy(Itr iter, std::size_t length, bool onHost)</div><div class="ttdoc">Copies the elements from an iterator range to the raw memory block.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:209</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_a34a68a331a0df1745c10e5ff6a740e5f"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#a34a68a331a0df1745c10e5ff6a740e5f">ChiaVec::Raw::RawVec::copyTo</a></div><div class="ttdeci">void copyTo(RawVec&lt; T, OtherAllocator &gt; &amp;other) const</div><div class="ttdoc">Copies the contents of this RawVec object to another RawVec object.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:241</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_a6bc6f71404d83e1245fbe923306177c0"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#a6bc6f71404d83e1245fbe923306177c0">ChiaVec::Raw::RawVec::clone</a></div><div class="ttdeci">RawVec&lt; T, OtherAllocator &gt; clone() const</div><div class="ttdoc">Creates a clone of this RawVec object using a different allocator.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:267</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_a6bcfbc036f9d70f96369104b2d0a57db"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#a6bcfbc036f9d70f96369104b2d0a57db">ChiaVec::Raw::RawVec::resize</a></div><div class="ttdeci">void resize(std::size_t newLength)</div><div class="ttdoc">Resizes the raw memory block to the specified length.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:188</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_a955ede0b082ad1f5255d82e37194dd7a"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#a955ede0b082ad1f5255d82e37194dd7a">ChiaVec::Raw::RawVec::RawVec</a></div><div class="ttdeci">RawVec()</div><div class="ttdoc">Constructs an empty RawVec object.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:79</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_a9da2772fb0a57f8c6e0578a761b5f06c"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#a9da2772fb0a57f8c6e0578a761b5f06c">ChiaVec::Raw::RawVec::operator=</a></div><div class="ttdeci">RawVec&lt; T, Allocator &gt; &amp; operator=(RawVec&lt; T, Allocator &gt; &amp;&amp;other)</div><div class="ttdoc">Assigns the contents of another RawVec object to this RawVec object by moving.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:153</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_aba84b5536a908ca53f0535e43db2f410"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#aba84b5536a908ca53f0535e43db2f410">ChiaVec::Raw::RawVec::ptr</a></div><div class="ttdeci">const T * ptr() const</div><div class="ttdoc">Returns a const pointer to the raw memory block.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:174</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_ad91ab69072029c09a9037a2183902f56"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#ad91ab69072029c09a9037a2183902f56">ChiaVec::Raw::RawVec::ptr</a></div><div class="ttdeci">T * ptr()</div><div class="ttdoc">Returns a pointer to the raw memory block.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:167</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_aeb861f2c31a2b94f0670e65ffa457b54"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#aeb861f2c31a2b94f0670e65ffa457b54">ChiaVec::Raw::RawVec::operator=</a></div><div class="ttdeci">RawVec&lt; T, Allocator &gt; &amp; operator=(const RawVec&lt; T, OtherAllocator &gt; &amp;other)</div><div class="ttdoc">Assigns the contents of another RawVec object to this RawVec object.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:141</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_af90738ab005ad3d4b421171dbe81a2fe"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#af90738ab005ad3d4b421171dbe81a2fe">ChiaVec::Raw::RawVec::RawVec</a></div><div class="ttdeci">RawVec(std::size_t length)</div><div class="ttdoc">Constructs a RawVec object with the specified length.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:86</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_af9c5b61b6429d023712b662b5174b0e9"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#af9c5b61b6429d023712b662b5174b0e9">ChiaVec::Raw::RawVec::~RawVec</a></div><div class="ttdeci">~RawVec()</div><div class="ttdoc">Destroys the RawVec object and releases the raw memory block.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:126</div></div>
<div class="ttc" id="aclassChiaVec_1_1Raw_1_1RawVec_html_afa6023cb1f2484af73c552562fc6ca59"><div class="ttname"><a href="classChiaVec_1_1Raw_1_1RawVec.html#afa6023cb1f2484af73c552562fc6ca59">ChiaVec::Raw::RawVec::RawVec</a></div><div class="ttdeci">RawVec(RawVec&lt; T, Allocator &gt; &amp;&amp;other)</div><div class="ttdoc">Constructs a RawVec object by moving another RawVec object.</div><div class="ttdef"><b>Definition:</b> rawvecs.hpp:117</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
